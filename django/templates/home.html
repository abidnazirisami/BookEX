{% extends 'base.html' %}
{% load static %}
{% block title %}
<link rel="icon" href="{% static 'bookex-2.ico' %}" type="image/x-icon"> 
<link rel="firstpage" href="{% static 'BookEX.png' %}">
<link rel="review" href="{% static 'review_recommodation.png' %}">
<title>BookEX - Home</title>
{% endblock %}

<style>
a.ex1:hover, a.ex1:active {color: red;}
a.ex2:hover, a.ex2:active {font-size: 150%;}
a.ex3:hover, a.ex3:active {background: red;}
a.ex4:hover, a.ex4:active {font-family: monospace;}
a.ex5:visited, a.ex5:link {text-decoration: none;}
a.ex5:hover, a.ex5:active {text-decoration: underline;}
</style>

{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1">
{% if user.is_authenticated %}
<!--Notifications-->
<nav>
	<span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;
		{% if notification_count > 0 %}
		<span class="badge red">{{notification_count}}</span>
		{% endif %}
	</span>
</nav>
{% include 'side_navbar.html' %}
<!--Notifications-->
	<div class="w3-row ">
	  <div class="w3-col m3 w3-large w3-margin-top" style="padding-right: 10px; padding-left: 10px">
		<div class="w3-card" style="width:100%">
			{% load static %}
			<a href="{% url 'list_of_books' %}">
				<img src="{% static 'test_img.jpeg' %}" alt="Books" style="width:100%; height: 100%">
				
				 <div class="w3-container">
		      		<h4><b>Available Books</b></h4>
		    	</div>
	    	 </a>
		</div>
	  </div>
  <div class="w3-col m3 w3-large w3-margin-top" style="padding-right: 10px; padding-left: 10px">
	  <div class="w3-card" style="width:100%">
			{% load static %}
			<a href="{% url 'searchbook' %}">
			<img src="{% static 'donate_book.jpg' %}" alt="Donate" style="width:100%; height: 100%">
			 <div class="w3-container">
	      		<h4><b>Donate now!</b></h4>
	    	 </div>
	    	 </a>
		</div>
  </div>
	<div class="w3-col m3 w3-large w3-margin-top" style="padding-right: 10px; padding-left: 10px">
		<div class="w3-card" style="width:100%">
			{% load static %}
			<a href="{% url 'addbook' %}">
			<img src="{% static 'img.jpg' %}" alt="Find Books" style="width:100%; height: 100%">
				<div class="w3-container">
		      		<h4><b>Find with ISBN</b></h4>
		    	</div>
	    	 </a>
		</div>
	</div>
	<div class="w3-col m3 w3-large w3-margin-top" style="padding-right: 10px; padding-left: 10px">
		<div class="w3-card" style="width:100%">
			{% load static %}
			<a href="{% url 'requestbook' %}">
				<img src="{% static 'request_book.jpg' %}" alt="Request Books" style="width:100%; height: 100%">
			
				<div class="w3-container">
		      		<h4><b>Request Books</b></h4>
		    	</div>
	    	</a>
		</div>
	</div>
</div>


{% else %}
{% load static %}

{% load static %}
<div class="fullscreen" style="padding-top: 70px;">
	<div class="slider" id="main-slider"><!-- outermost container element -->
		<div class="slider-wrapper"><!-- innermost wrapper element -->
			<img src="{% static 'sami.jpg' %}" alt="Sami" class="slide" /><!-- slides -->
			<img src="{% static 'Mahfida.jpg' %}" alt="Nitu" class="slide" /><!-- slides -->
			<img src="{% static 'Nahian.jpg' %}" alt="Raida" class="slide" /><!-- slides -->	
		</div>
	</div>	
</div>
<div style="position: absolute;top: 400px; left:48%;z-index: 999;">
	<a class="w3-button w3-opacity w3-padding-large w3-large w3-hover-teal" href="{% url 'story' %}">BookEX</a>
</div>
<script>
(function() {
	
	function Slideshow( element ) {
		this.el = document.querySelector( element );
		this.init();
	}
	
	Slideshow.prototype = {
		init: function() {
			this.wrapper = this.el.querySelector( ".slider-wrapper" );
			this.slides = this.el.querySelectorAll( ".slide" );
			this.previous = this.el.querySelector( ".slider-previous" );
			this.next = this.el.querySelector( ".slider-next" );
			this.index = 0;
			this.total = this.slides.length;
			this.timer = null;
			this.action();	
		},
		_slideTo: function( slide ) {
			var currentSlide = this.slides[slide];
			currentSlide.style.opacity = 1;
			
			for( var i = 0; i < this.slides.length; i++ ) {
				var slide = this.slides[i];
				if( slide !== currentSlide ) {
					slide.style.opacity = 0;
				}
			}
		},
		action: function() {
			var self = this;
			self.timer = setInterval(function() {
				self.index++;
				if( self.index == self.slides.length ) {
					self.index = 0;
				}
				self._slideTo( self.index );
				
			}, 5000);
		},
		stopStart: function() {
			var self = this;
			
			self.el.addEventListener( "mouseout", function() {
				self.action();
				
			}, false);
		}
		
		
	};
	
	document.addEventListener( "DOMContentLoaded", function() {
		
		var slider = new Slideshow( "#main-slider" );
		
	});
	
	
})();

var slideIndex = 1;
showDivs(slideIndex);
setInterval(function(){ plusDivs(1); }, 3000);
function plusDivs(n) {
  showDivs(slideIndex += n);
}
function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
   	 x[i].style.opacity = "0";
     x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";
  x[slideIndex-1].style.opacity = "1";
   // Change image every 3 seconds
}
</script>
{% endif %}
{% endblock %}
