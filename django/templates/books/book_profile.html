{% extends 'base.html' %}
{% load static %}
{% block title %}
<title>{{book.book_name}}
</title>
<link rel="icon" href="{% static 'Book.ico' %}" type="image/x-icon"> 
{% endblock %}  

<style>
p, p a { 
			color: #aaa;
			text-decoration: none;
		}
		p a:hover,
		p a:focus {
			text-decoration: underline;
		}
		p + p { color: #bbb; margin-top: 2em;}
		.detail {position: absolute; text-align: right; right: 5px; bottom: 5px; width: 50%;}
		
		a[href*="intent"] {
			display:inline-block;
			margin-top: 0.4em;
		}
.rating {
	width: 226px;
	margin: 0 auto 1em;
	font-size: 45px;
	overflow:hidden;
}
.rating input {
float: right;
opacity: 0;
position: absolute;
}
.rating a,
.rating label {
	float:right;
	color: #aaa;
	text-decoration: none;
	-webkit-transition: color .4s;
	-moz-transition: color .4s;
	-o-transition: color .4s;
	transition: color .4s;
}
.rating label:hover ~ label,
.rating input:focus ~ label,
.rating label:hover,
.rating a:hover,
	.rating a:hover ~ a,
	.rating a:focus,
	.rating a:focus ~ a		{
		color: red;
		cursor: pointer;
	}
	.rating2 {
		direction: rtl;
	}
	.rating2 a {
		float:none
	}

</style>

{% block content %}
<!-- Profile-->
<div class="w3-container w3-card w3-white w3-margin-top " style="padding-top: 35px;padding-bottom: 50px ">
	<div class="w3-third" style="max-width:1950px;padding-right: 10px">
	    	{% load static %}
        	<div class="profile-header-container">   
    		  <div class="profile-header-img">
                <img class="img-rounded" src="{{book.photo.url}}" alt="Dp" style="width:250px; height: 250px;">
              	<!-- badge -->
              	
              </div>
              	<div class="w3-center" style="margin-left: 40%">
                    <span class="stars">{{book.rating}}</span>
              	</div>
              <!--div class="rating rating2">
              	<a href="1" title="Give 1 stars">★</a>
              	<a href="2" title="Give 2 stars">★</a>
              	<a href="3" title="Give 3 stars">★</a>
              	<a href="4" title="Give 4 stars">★</a>
              	<a href="5" title="Give 5 stars">★</a>
              </div-->
       		</div>
       		
			<p class="w3-wide ">
			<h2>{{book.book_name}}</h2><a href="{% url 'rate' isbn=book.isbn %}" class="btn w3-margin-bottom w3-margin-right w3-right"><i class="fa fa-edit" style="font-size:18px;color: tomato;">Rate 'n Review</i></a>
			<p>by <i class="authors">{{author.author_name}}</i></p>
			</p>		
			<p > {{book.edition}}
			{% if book.edition == 1 %}
			st edition
			{% elif book.edtion == 2 %}
			nd edition
			{% else %]
			th edition
			{% endif %}
			</p>
		      	
    </div>
    <div class="w3-twothird w3-padding-large w3-margin-top" style="text-align:left ;max-width:1950px;padding-left: 10px">
    	<p class="w3-wide" style="font-family: Courier"><u><h1>About</h1></u>
    	</p><br>
	</div>	
	<div class="w3-third w3-padding-large" style="text-align:left ;max-width:1950px;padding-left: 10px;padding-right: 10px">
		<p class="w3-wide ">Name: {{book.book_name}} </p><br>
		<p class="w3-wide ">Topic Name: {{book.topic_name}} </p><br> 
		<p class="w3-wide ">Edition: {{book.edition}} </p><br>
		<p class="w3-wide ">Authors: {{author.author_name}} </p><br>
	</div>

	<div class="w3-third w3-padding-large" style="text-align:left ;max-width:1950px;padding-left: 10px;padding-right: 10px">
		<p class="w3-wide ">Publisher: {{book.publisher}} </p><br>	
		<p class="w3-wide ">Publish Year: {{book.publish_year}} </p><br>
		<p class="w3-wide ">ISBN: {{book.isbn}} </p><br>
	</div>
	<div class="w3-twothird w3-container w3-right w3-margin-bottom">
      <a href="{% url 'donatewithisbn' use_isbn=book.isbn %}">
      	<button  class="w3-button w3-border w3-hover-teal w3-right w3-round w3-margin-left w3-margin-right">Donate</button>
      </a>
      <a href="{% url 'addtowishlist' req_isbn=book.isbn %}">
      	<button  class="w3-button w3-border w3-hover-teal w3-right w3-round">Add to Wishlist</button>
      </a>
    </div>
</div>
    
<script>
$(function() {
    $('span.stars').stars();
});
$.fn.stars = function() {
    return $(this).each(function() {
        $(this).html($('<span />').width(Math.max(0, (Math.min(5, parseFloat($(this).html())))) * 16));
    });
}

</script>
<div>
	{% for cur_review in review %}
		{{cur_review.table}}
	{% endfor %}
{% endblock %}
